# 实验记录 - 油田泄漏检测项目

## 项目概述

**目标**: 基于RGB+红外双模态图像，实现油田泄漏点自动检测，准确率80%+，召回率85%+

**核心挑战**:
1. 裸露黑土与泄漏在RGB+红外上都相似（均为深色+偏热）
2. 样本严重不平衡（200泄漏 vs 2800正常）
3. 漏检比误检更严重

---

## Week 1: 数据准备

### 任务清单
- [ ] 数据采样与划分
- [ ] RGB-IR配准检查
- [ ] 建立基线指标

### 实验记录

| 日期 | 任务 | 结果 | 备注 |
|------|------|------|------|
| | 数据采样 | | |
| | 配准检查 | | |

---

## Week 2: 假设验证

### 实验1: MobileCLIP零样本能力

**假设**: CLIP能够区分"oil spill" vs "dark soil"

**实验设计**:
```bash
python scripts/02_validate_clip.py \
    --data_dir ./data/sampled/val \
    --output_dir ./results/clip_validation
```

**结果**:
| 阈值 | 准确率 | 召回率 | 精确率 | F1 |
|------|--------|--------|--------|-----|
| 0.5  |        |        |        |     |
| 最优 |        |        |        |     |

**决策**: 
- [ ] 如果召回率 > 70%: 采用路径A（CLIP为主）
- [ ] 如果召回率 < 60%: 采用路径B（更多监督训练）

### 实验2: 温度纹理特征

**假设**: 泄漏区温度分布比黑土更均匀

**关键特征**:
| 特征名 | 泄漏均值 | 黑土均值 | 效果量 | 结论 |
|--------|----------|----------|--------|------|
| temperature_consistency | | | | |
| lbp_uniformity | | | | |
| num_hot_regions | | | | |

### 实验3: 空间先验

**假设**: 道路附近更可能是黑土，非道路区域更可能是泄漏

**结果**: （待实验）

---

## Week 3: 模型训练

### 选定路径: 

### 训练配置
```yaml
model: 
learning_rate: 
batch_size: 
pos_weight: 
```

### 训练曲线

（插入训练曲线图）

### 最优模型

| Epoch | 损失 | 准确率 | 召回率 | 精确率 | F1 |
|-------|------|--------|--------|--------|-----|
|       |      |        |        |        |     |

---

## Week 4: 优化与闭环

### 误差分析

**漏检样本特征**:
- 

**高置信度误检特征**:
- 

### 优化措施

| 措施 | 效果 | 采纳 |
|------|------|------|
|      |      |      |

### 最终结果

| 指标 | 目标 | 实际 | 达成 |
|------|------|------|------|
| 召回率 | 85% | | |
| 准确率 | 80% | | |
| 精确率 | 60% | | |
| F1 | 70% | | |

---

## 经验教训

### 有效的做法
1. 

### 无效的做法
1. 

### 后续改进方向
1. 

---

## 附录

### A. 提示词优化记录

| 版本 | 正向提示词 | 负向提示词 | 效果 |
|------|-----------|-----------|------|
| v1 | oil spill, ... | dark soil, ... | |
| v2 | | | |

### B. 超参数搜索

| 实验 | 学习率 | 权重 | 结果 |
|------|--------|------|------|
|      |        |      |      |
